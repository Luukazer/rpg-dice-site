<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Perfis</title>
</head>
<body>

<h2>Criar Perfil</h2>
<input id="nome" placeholder="Nome do jogador">
<button onclick="criar()">Criar</button>

<ul id="lista"></ul>

<script src="firebase.js"></script>
<script>
function criar(){
  const nome = document.getElementById("nome").value;
  const id = Math.random().toString(36).substr(2,9);

  db.ref("perfis/"+id).set({ nome });

  listar();
}

function listar(){
  db.ref("perfis").once("value", snap=>{
    const ul = document.getElementById("lista");
    ul.innerHTML = "";
    snap.forEach(p=>{
      const id = p.key;
      const nome = p.val().nome;
      ul.innerHTML += `
        <li>
          <b>${nome}</b><br>
          Player: <a href="player.html#${id}" target="_blank">link</a><br>
          OBS: <a href="obs.html#${id}" target="_blank">link</a>
        </li><br>
      `;
    });
  });
}
listar();
</script>

</body>
</html>
