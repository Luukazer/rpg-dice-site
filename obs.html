<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>OBS Dados</title>
<style>
body{
  margin:0;
  background:transparent;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family: Arial, sans-serif;
}

#numero{
  font-size:72px;
  color:white;
  text-shadow:0 0 12px #00bfff;
  display:none;
}

#label{
  color:white;
  font-size:28px;
  margin-top:-10px;
  display:none;
}

video{
  width:200px;
  display:none;
}
</style>
</head>
<body>

<div id="numero"></div>
<div id="label">Sucessos</div>
<video id="video" src="dice.webm"></video>

<script>
const canal = new BroadcastChannel('dados_rpg');
const video = document.getElementById('video');
const numero = document.getElementById('numero');
const label = document.getElementById('label');

canal.onmessage = e => {
  const {sucessos} = e.data;

  numero.style.display = 'none';
  label.style.display = 'none';

  video.style.display = 'block';
  video.currentTime = 0;
  video.play();

  setTimeout(()=>{
    numero.textContent = sucessos;
    numero.style.display = 'block';
    label.style.display = 'block';
  },1000);

  setTimeout(()=>{
    video.style.display = 'none';
  },7000);
};
</script>

</body>
</html>
